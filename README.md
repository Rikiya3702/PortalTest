## ポータルサイト（仮名）設計書

_2021.04.07作成（堀越）_
***
1. 概要
    - Vue.jsを使用する
        > コンポーネント単位で作成でき、React.jsに比べて学習コストが低く保守性が高いため、小～中規模向けであるVue.jsを選択した。
        > Vue2系 or Vue3系は要相談。
        > 現時点ではVueの機能をフル活用するわけでもないため、将来性を考えるとVue3系で良いと思われる。

    - Vuetify3 or Bootstrap4を使用してレスポンシブなレイアウトにする
        |比較|Vuetify|Bootstrap|
        |---|---|---|
        |標準のデザイン性|高い|低い|
        |コンポーネント数|多い|少ない|
        |カスタマイズ性|高い|中|
        |学習コスト|中|低い|
    - ECMAScript 5準拠のブラウザ(https://caniuse.com/es5)に対応
    - CSSについてはSassを使用する
        > SASS or SCSSは要相談。  
        > Python推しならSASSの選択もアリだが、SCSSが一般的なため、SCSSで進める予定。

1. 画面一覧
    |No|画面名|ファイル名|備考|
    |--:|:--|:--|:--|
    |1|Index|index.html|root|
    |2|記事一覧|articles.html||
    |3|記事詳細|article.html||

1. コンポーネント一覧
    |No|コンポーネント名|機能カテゴリ|プロパティ|処理内容|
    |--:|:--|:--|:--|:--|
    |1|Logo|画像・リンク|-|ロゴを表示し、indexへリンクする|
    |2|BtnLink|ボタン|label, path, icon|pathへリンクする|
    |3|BtnBack|ボタン|label|JSによるブラウザの戻る機能を実行|
    |4|TxtLink|リンク|path|pathへリンクする|
    |5|ArticleCard|リンク|article|articleの日付、タイトル、本文の一部、画像を表示し、詳細画面へリンクする|
    |6|ScrollTop|リンク|-|#headerへリンクする、〇以上スクロールした状態で表示|
    |7|InputWord|インプット|-|キーワード入力を受け付ける。バリデーションは別表参照|
    |8|InputSubmit|ボタン|path|inputされた内容でpathへリンク|
    |9|BtnTag|ボタン|label|タグ検索を実行する|
    |10|ReadMore|ボタン|-|ArticleCardを追加で12件表示する。これ以上追加できない時はテキストを変え、ボタン非活性にする。|
    |11|BtnDropdown|ボタン|< li >|ホバーorタップでドロップダウンリストを開く。アンホバーor範囲外タップで閉じる。< li >要素はリンクを想定。|
    |12|BtnHamburger|ボタン|< li >|タップでドロップダウンリストを開く。範囲外タップで閉じる。< li >要素はリンクを想定。|

1. 複合コンポーネント一覧
    |No|コンポーネント名|概要|構成||
    |--:|:--|:--|:--|:--|
    |1|Header|全ての画面共通のヘッダー。画面幅により構成が変わる。|Logo, BtnHamburger|-|
    |2|Footer|全ての画面共通のフッター|TxtLink|-|
    |3|SignBoard|看板となるメインビジュアル（indexのみ）|-|-|
    |4|SearchArticles|記事一覧の入力フィールド周り|InputWord, InputSubmit|-|
    |5|ArticleList|ArticleCardを画面幅により2～4列で表示する|ArticleCard, ReadMore, BtnTag|-|
    |6|Article|記事詳細（日付、タイトル、本文、画像、タグ）|BtnBack, BtnTag|-|

1. バリデーション一覧  
    |No|コンポーネント名|コンポーネントNo|内容|
    |--:|:--|:--|:--|
    |1|InputWord|7|最大50文字|

1. 画面プロセス(ルーティングの設計・実装)
    |No|画面名|HTPPメソッド|パラメータ|API path|
    |--:|:--|:--|:--|:--|
    |1|Index|GET|-|portalsite/|
    |2|記事一覧|GET||portalsite/articles|
    |3|記事一覧|GET|keyword|portalsite/articles?keyword=:keyword|
    |4|記事一覧|GET|tag|portalsite/articles?tag=:tag|
    |5|記事詳細|GET|id|portalsite/article/:id|

1. ロジックの設計・実装 (API通信と関与しない部分)
    |No|コンポーネント名|コンポーネントNo|プロパティ|処理内容|
    |--:|:--|:--|:--|:--|
    |1|ReadMore|10|-|具体的な処理を記載|

1. フォルダ構成
    ```
    ※技術構成により大きく変わる可能性があります

    root/
    ├─ css/
    │   ├─ common.scss       共通変数など
    │   ├─ main.scss         2画面以上で使われるCSS
    │   ├─ index.scss        画面固有のCSSはHTMLと同名にする
    │   ├─ article.scss
    │   └─ articles.scss
    │
    ├─ js/
    │   ├─ common.js        共通関数、定数など
    │   └─ vue.js
    │
    ├─ index.html
    ├─ article.html
    └─ articles.html
    ```

1. コーディングルール

    ###### HTML、CSS、JavaScript共通

    |項目|内容|
    |---|---|
    |文字コード|UTF-8|
    |改行コード|LF|
    |インデント|半角スペース2文字|
    |ファイル名|英小文字、数字、_(アンダースコア)のみ使用可|

    ##### HTML

    |項目|内容|
    |---|---|
    |拡張子|.html|
    |正規化|< canonical >タグで絶対パスを記述|
    |属性・要素名|全て小文字|
    |id名|ローワーキャメルケース|
    |class名|-(ハイフン)を用いたスネークケース|
    |< img > タグ|装飾以外ではaltを必ず設定する|

    ##### CSS

    |項目|内容|
    |---|---|
    |拡張子|.scss|
    |セレクタ|id、属性セレクタは極力使用しない|
    |数値|「.5」等と記述できる場合でも0を省略せず「0.5」とする|
    |margin、padding|複数指定する場合は全部指定する（2 or 3個の値では設定しない）|
    |line-height|単位はつけない|

    ##### JavaScript

    |項目|内容|
    |---|---|
    |拡張子|.js|
    |バージョン|ES2015 (ES6)|
    |クラス名|アッパーキャメルケース|
    |定数|全て大文字にし、区切り文字は_(アンダースコア)|
    |関数名|ローワーキャメルケース|
    |メソッド名|ローワーキャメルケース|
    |変数名|ローワーキャメルケース|
    |変数宣言|constを基本とし、再代入が必要な場合のみlet、varは使用しない|
    |セレクター|class名は指定しない|
    |文末|;（セミコロン）は省略しない|

1. 共通変数、定数

    ##### カラー
    |項目|内容|
    |---|---|
    |ベースカラー|#FFFFFF|
    |メインカラー|#001F33|
    |アクセントカラー|#EB5A00|

    ##### フォント
    |項目|内容|カラー|
    |---|---|---|
    |標準テキスト|〇〇ゴシック|メインカラー|
    |見出し|△△ゴシック|メインカラー|
    |ボタン|◇◇ゴシック|メインカラー|
